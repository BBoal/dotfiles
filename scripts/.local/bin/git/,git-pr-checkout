#!/bin/sh

# Checking a pr using hub

set -e

# hub pr checkout "$(hub pr list | sed 's/^\ *//' | fzf | sed 's/.\([0-9]*\).*/\1/')"
pr="$(gh pr list|fzf|awk '{print $1}')"
echo Checking out "$pr"
printf "Branch name: " && read -r
branch="$REPLY"
upstream="upstream"
git remote | grep -q upstream || upstream="origin"
git fetch $upstream pull/$pr/head $branch
git checkout $branch
