#!/bin/sh

set -e

# ,launch-or-focus Emacs 'emacsclient  -a "" --no-wait -c' Firefox firefox

window="$(xdotool getwindowfocus | xargs xdotool getwindowname)"
if [ $window == "Emacs" ]; then
	xdotool search --name 'Mozilla Firefox' | tail -n1 | xargs xdotool windowraise
	xdotool search --name 'Mozilla Firefox' | tail -n1 | xargs xdotool windowfocus
else
	xdotool search --name Emacs | tail -n1 | tail -n1 | xargs xdotool windowraise
	xdotool search --name Emacs | tail -n1 | tail -n1 | xargs xdotool windowfocus
fi
